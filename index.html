<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Jogo de Acertar a Bolinha</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

<style>
body {
background-color: #f0f2f5;
}

#game-area {
position: relative;
width: 100%;
height: 500px;
border: 2px solid #ccc;
background-color: #fff;
overflow: hidden; /* Garante que as bolinhas não saiam da área */
cursor: crosshair;
}

.ball {
position: absolute;
width: 30px;
height: 30px;
border-radius: 50%;
cursor: pointer;
transition: all 0.1s ease-out;
}

/* Cores das bolinhas (do Bootstrap) */
.ball-red { background-color: #dc3545; }
.ball-blue { background-color: #0d6efd; }
.ball-green { background-color: #198754; }
.ball-yellow { background-color: #ffc107; }
.ball-purple { background-color: #6f42c1; }

</style>
</head>
<body>

<div class="container mt-5">
<div class="row justify-content-center">
<div class="col-lg-10">
<div class="card shadow-sm">
<div class="card-header text-center bg-primary text-white">
<h2>Jogo de Acertar a Bolinha</h2>
</div>
<div class="card-body">
<p class="lead text-center">Passe o mouse sobre as bolinhas para estourá-las e marcar pontos!</p>

<div class="row align-items-center text-center my-3 p-3 bg-light rounded">
<div class="col-md-4">
<button id="start-btn" class="btn btn-success btn-lg">Começar Jogo</button>
</div>
<div class="col-md-4">
<h3 class="mb-0">Pontos: <span id="score-display" class="badge bg-dark">0</span></h3>
</div>
<div class="col-md-4">
<h3 class="mb-0">Tempo: <span id="timer-display" class="badge bg-danger">30</span>s</h3>
</div>
</div>

<div id="game-area">
</div>
</div>
</div>
</div>
</div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js&quot; integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

<script>
// Referências aos elementos do DOM
const gameArea = document.getElementById('game-area');
const startBtn = document.getElementById('start-btn');
const scoreDisplay = document.getElementById('score-display');
const timerDisplay = document.getElementById('timer-display');

// Variáveis do Jogo
let score = 0;
let timeLeft = 30;
let gameInterval = null;
let timerInterval = null;
let isPlaying = false;
const ballColors = ['ball-red', 'ball-blue', 'ball-green', 'ball-yellow', 'ball-purple'];

// Evento para iniciar o jogo
startBtn.addEventListener('click', startGame);

/**
* Inicia o jogo
*/
function startGame() {
if (isPlaying) return; // Impede de clicar duas vezes

// Reseta o estado do jogo
isPlaying = true;
score = 0;
timeLeft = 30;
scoreDisplay.textContent = score;
timerDisplay.textContent = timeLeft;
startBtn.disabled = true;
startBtn.textContent = 'Jogando...';

clearAllBalls();

// Inicia os intervalos do jogo
// 1. Intervalo para criar bolinhas (a cada 800ms)
gameInterval = setInterval(createBall, 800);

// 2. Intervalo do cronômetro (a cada 1 segundo)
timerInterval = setInterval(updateTimer, 1000);
}

/**
* Termina o jogo
*/
function endGame() {
isPlaying = false;
clearInterval(gameInterval);
clearInterval(timerInterval);

startBtn.disabled = false;
startBtn.textContent = 'Começar Jogo';

alert(`Fim de Jogo! Sua pontuação foi: ${score}`);
clearAllBalls();
}

/**
* Atualiza o cronômetro
*/
function updateTimer() {
timeLeft--;
timerDisplay.textContent = timeLeft;

if (timeLeft <= 0) {
endGame();
}
}

/**
* Cria uma nova bolinha em local aleatório
*/
function createBall() {
if (!isPlaying) return;

const ball = document.createElement('div');
ball.classList.add('ball');

// Escolhe uma cor aleatória
const randomColor = ballColors[Math.floor(Math.random() * ballColors.length)];
ball.classList.add(randomColor);

// Calcula a posição aleatória
const ballSize = 30;
const maxPosX = gameArea.clientWidth - ballSize;
const maxPosY = gameArea.clientHeight - ballSize;

const randomX = Math.floor(Math.random() * maxPosX);
const randomY = Math.floor(Math.random() * maxPosY);

ball.style.left = `${randomX}px`;
ball.style.top = `${randomY}px`;

// Adiciona o evento para "acertar" a bolinha
ball.addEventListener('mouseover', hitBall);

// Adiciona a bolinha na área do jogo
gameArea.appendChild(ball);

// Faz a bolinha desaparecer se não for clicada
setTimeout(() => {
if (ball.parentElement) {
ball.remove();
}
}, 2000); // Bolinha desaparece após 2 segundos
}

/**
* Chamada quando o mouse passa por cima da bolinha
*/
function hitBall(event) {
if (!isPlaying) return;

// Aumenta a pontuação
score++;
scoreDisplay.textContent = score;

// Remove a bolinha que foi acertada
event.target.remove();
}

/**
* Remove todas as bolinhas da tela (usado no fim do jogo)
*/
function clearAllBalls() {
const balls = document.querySelectorAll('.ball');
balls.forEach(ball => ball.remove());
}

</script>
</body>
</html>